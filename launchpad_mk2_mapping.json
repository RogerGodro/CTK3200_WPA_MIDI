{
  "device": {
    "name": "Novation Launchpad MK2",
    "manufacturer": "Novation",
    "midiName": "Launchpad MK2",
    "totalButtons": 80,
    "gridSize": {
      "rows": 8,
      "cols": 8
    },
    "generatedDate": "2025-12-18",
    "version": "1.1.0"
  },
  "documentation": {
    "physicalLayout": {
      "description": "Vue de face du Launchpad MK2",
      "diagram": [
        "┌─────────────────────────────────────────────────┐",
        "│  [▲] [▼] [◄] [►] [Ses][U1][U2][Mix]            │ ← Boutons du HAUT (CC 104-111)",
        "├─────────────────────────────────────────────────┤",
        "│  [81][82][83][84][85][86][87][88]  (Volume)    │ ← Row 8 (HAUT de la grille)",
        "│  [71][72][73][74][75][76][77][78]  (Pan)       │ ← Row 7",
        "│  [61][62][63][64][65][66][67][68]  (Send A)    │ ← Row 6",
        "│  [51][52][53][54][55][56][57][58]  (Send B)    │ ← Row 5",
        "│  [41][42][43][44][45][46][47][48]  (Stop)      │ ← Row 4",
        "│  [31][32][33][34][35][36][37][38]  (Mute)      │ ← Row 3",
        "│  [21][22][23][24][25][26][27][28]  (Solo)      │ ← Row 2",
        "│  [11][12][13][14][15][16][17][18]  (Rec Arm)   │ ← Row 1 (BAS de la grille)",
        "├─────────────────────────────────────────────────┤",
        "│   Col1 Col2 Col3 Col4 Col5 Col6 Col7 Col8     │",
        "└─────────────────────────────────────────────────┘"
      ],
      "orientation": {
        "grid": {
          "row1": "BAS de la grille (près du bord inférieur)",
          "row8": "HAUT de la grille (près des boutons du haut)",
          "col1": "GAUCHE",
          "col8": "DROITE"
        },
        "rightButtons": {
          "position1": "HAUT (Volume, aligné avec row 8)",
          "position8": "BAS (Record Arm, aligné avec row 1)"
        },
        "topButtons": {
          "position1": "GAUCHE (Up/▲)",
          "position8": "DROITE (Mixer)"
        }
      }
    },
    "midiMessages": {
      "input": {
        "gridPads": {
          "type": "Note On/Off",
          "channel": 1,
          "press": "0x90 (144) + note + velocity (127)",
          "release": "0x90 (144) + note + velocity (0)",
          "note": "Attention: release envoie Note On avec velocity 0, PAS Note Off"
        },
        "rightButtons": {
          "type": "Note On/Off",
          "channel": 1,
          "press": "0x90 (144) + note + velocity (127)",
          "release": "0x90 (144) + note + velocity (0)"
        },
        "topButtons": {
          "type": "Control Change",
          "channel": 1,
          "press": "0xB0 (176) + cc + value (127)",
          "release": "0xB0 (176) + cc + value (0)",
          "warning": "IMPORTANT: Les boutons du haut envoient value=0 au relâchement. Filtrer avec: if (value === 0) return;"
        }
      },
      "output": {
        "setLedColor": {
          "method": "Note On avec velocity = index couleur",
          "example": "[0x90, note, colorIndex]",
          "forTopButtons": "[0xB0, cc, colorIndex]"
        },
        "setLedOff": {
          "method": "Note On avec velocity 0 ou Note Off",
          "example": "[0x90, note, 0] ou [0x80, note, 0]"
        },
        "setLedRGB": {
          "method": "SysEx",
          "example": "[0xF0, 0x00, 0x20, 0x29, 0x02, 0x18, 0x0B, note, r, g, b, 0xF7]",
          "note": "r, g, b sont des valeurs 0-63 (pas 0-255)"
        },
        "clearAll": {
          "method": "SysEx",
          "example": "[0xF0, 0x00, 0x20, 0x29, 0x02, 0x18, 0x0E, 0, 0xF7]"
        }
      }
    },
    "commonMistakes": [
      "❌ Oublier que row 1 est en BAS (pas en haut)",
      "❌ Afficher les boutons de droite dans le mauvais ordre (position 1 = HAUT)",
      "❌ Ne pas filtrer velocity/value 0 pour les boutons du haut (cause double-trigger)",
      "❌ Confondre Note On velocity 0 avec Note Off (les pads envoient Note On vel 0)",
      "❌ Utiliser des valeurs RGB 0-255 au lieu de 0-63 pour SysEx"
    ],
    "codeSnippets": {
      "filterRelease": "if ((status === 0x90 && velocity === 0) || (status === 0xB0 && value === 0)) return;",
      "noteToRowCol": "const row = Math.floor(note / 10); const col = note % 10;",
      "rowColToNote": "const note = row * 10 + col;",
      "isValidGridNote": "const isValid = note >= 11 && note <= 88 && (note % 10) >= 1 && (note % 10) <= 8;",
      "renderGrid": "for (let row = 8; row >= 1; row--) { /* row 8 en haut visuel */ }",
      "renderRightButtons": "for (let pos = 1; pos <= 8; pos++) { /* pos 1 en haut visuel */ }"
    }
  },
  "midi": {
    "channels": {
      "default": 1,
      "noteOn": 144,
      "noteOff": 128,
      "controlChange": 176
    },
    "sysex": {
      "header": [240, 0, 32, 41, 2, 24],
      "footer": [247],
      "commands": {
        "setLed": 10,
        "setLedRGB": 11,
        "setColumn": 12,
        "setRow": 13,
        "setAll": 14,
        "flash": 35,
        "pulse": 40,
        "scrollText": 20
      }
    }
  },
  "grid": {
    "pads": [
      {"row": 1, "col": 1, "note": 11, "name": "Pad 1-1"},
      {"row": 1, "col": 2, "note": 12, "name": "Pad 1-2"},
      {"row": 1, "col": 3, "note": 13, "name": "Pad 1-3"},
      {"row": 1, "col": 4, "note": 14, "name": "Pad 1-4"},
      {"row": 1, "col": 5, "note": 15, "name": "Pad 1-5"},
      {"row": 1, "col": 6, "note": 16, "name": "Pad 1-6"},
      {"row": 1, "col": 7, "note": 17, "name": "Pad 1-7"},
      {"row": 1, "col": 8, "note": 18, "name": "Pad 1-8"},
      {"row": 2, "col": 1, "note": 21, "name": "Pad 2-1"},
      {"row": 2, "col": 2, "note": 22, "name": "Pad 2-2"},
      {"row": 2, "col": 3, "note": 23, "name": "Pad 2-3"},
      {"row": 2, "col": 4, "note": 24, "name": "Pad 2-4"},
      {"row": 2, "col": 5, "note": 25, "name": "Pad 2-5"},
      {"row": 2, "col": 6, "note": 26, "name": "Pad 2-6"},
      {"row": 2, "col": 7, "note": 27, "name": "Pad 2-7"},
      {"row": 2, "col": 8, "note": 28, "name": "Pad 2-8"},
      {"row": 3, "col": 1, "note": 31, "name": "Pad 3-1"},
      {"row": 3, "col": 2, "note": 32, "name": "Pad 3-2"},
      {"row": 3, "col": 3, "note": 33, "name": "Pad 3-3"},
      {"row": 3, "col": 4, "note": 34, "name": "Pad 3-4"},
      {"row": 3, "col": 5, "note": 35, "name": "Pad 3-5"},
      {"row": 3, "col": 6, "note": 36, "name": "Pad 3-6"},
      {"row": 3, "col": 7, "note": 37, "name": "Pad 3-7"},
      {"row": 3, "col": 8, "note": 38, "name": "Pad 3-8"},
      {"row": 4, "col": 1, "note": 41, "name": "Pad 4-1"},
      {"row": 4, "col": 2, "note": 42, "name": "Pad 4-2"},
      {"row": 4, "col": 3, "note": 43, "name": "Pad 4-3"},
      {"row": 4, "col": 4, "note": 44, "name": "Pad 4-4"},
      {"row": 4, "col": 5, "note": 45, "name": "Pad 4-5"},
      {"row": 4, "col": 6, "note": 46, "name": "Pad 4-6"},
      {"row": 4, "col": 7, "note": 47, "name": "Pad 4-7"},
      {"row": 4, "col": 8, "note": 48, "name": "Pad 4-8"},
      {"row": 5, "col": 1, "note": 51, "name": "Pad 5-1"},
      {"row": 5, "col": 2, "note": 52, "name": "Pad 5-2"},
      {"row": 5, "col": 3, "note": 53, "name": "Pad 5-3"},
      {"row": 5, "col": 4, "note": 54, "name": "Pad 5-4"},
      {"row": 5, "col": 5, "note": 55, "name": "Pad 5-5"},
      {"row": 5, "col": 6, "note": 56, "name": "Pad 5-6"},
      {"row": 5, "col": 7, "note": 57, "name": "Pad 5-7"},
      {"row": 5, "col": 8, "note": 58, "name": "Pad 5-8"},
      {"row": 6, "col": 1, "note": 61, "name": "Pad 6-1"},
      {"row": 6, "col": 2, "note": 62, "name": "Pad 6-2"},
      {"row": 6, "col": 3, "note": 63, "name": "Pad 6-3"},
      {"row": 6, "col": 4, "note": 64, "name": "Pad 6-4"},
      {"row": 6, "col": 5, "note": 65, "name": "Pad 6-5"},
      {"row": 6, "col": 6, "note": 66, "name": "Pad 6-6"},
      {"row": 6, "col": 7, "note": 67, "name": "Pad 6-7"},
      {"row": 6, "col": 8, "note": 68, "name": "Pad 6-8"},
      {"row": 7, "col": 1, "note": 71, "name": "Pad 7-1"},
      {"row": 7, "col": 2, "note": 72, "name": "Pad 7-2"},
      {"row": 7, "col": 3, "note": 73, "name": "Pad 7-3"},
      {"row": 7, "col": 4, "note": 74, "name": "Pad 7-4"},
      {"row": 7, "col": 5, "note": 75, "name": "Pad 7-5"},
      {"row": 7, "col": 6, "note": 76, "name": "Pad 7-6"},
      {"row": 7, "col": 7, "note": 77, "name": "Pad 7-7"},
      {"row": 7, "col": 8, "note": 78, "name": "Pad 7-8"},
      {"row": 8, "col": 1, "note": 81, "name": "Pad 8-1"},
      {"row": 8, "col": 2, "note": 82, "name": "Pad 8-2"},
      {"row": 8, "col": 3, "note": 83, "name": "Pad 8-3"},
      {"row": 8, "col": 4, "note": 84, "name": "Pad 8-4"},
      {"row": 8, "col": 5, "note": 85, "name": "Pad 8-5"},
      {"row": 8, "col": 6, "note": 86, "name": "Pad 8-6"},
      {"row": 8, "col": 7, "note": 87, "name": "Pad 8-7"},
      {"row": 8, "col": 8, "note": 88, "name": "Pad 8-8"}
    ]
  },
  "rightButtons": [
    {"position": 1, "note": 89, "name": "Volume", "abletonFunction": "Volume", "row": 8},
    {"position": 2, "note": 79, "name": "Pan", "abletonFunction": "Pan", "row": 7},
    {"position": 3, "note": 69, "name": "Send A", "abletonFunction": "Send A", "row": 6},
    {"position": 4, "note": 59, "name": "Send B", "abletonFunction": "Send B", "row": 5},
    {"position": 5, "note": 49, "name": "Stop", "abletonFunction": "Stop Clip", "row": 4},
    {"position": 6, "note": 39, "name": "Mute", "abletonFunction": "Mute", "row": 3},
    {"position": 7, "note": 29, "name": "Solo", "abletonFunction": "Solo", "row": 2},
    {"position": 8, "note": 19, "name": "Record Arm", "abletonFunction": "Record Arm", "row": 1}
  ],
  "topButtons": [
    {"position": 1, "cc": 104, "name": "Up", "symbol": "▲"},
    {"position": 2, "cc": 105, "name": "Down", "symbol": "▼"},
    {"position": 3, "cc": 106, "name": "Left", "symbol": "◄"},
    {"position": 4, "cc": 107, "name": "Right", "symbol": "►"},
    {"position": 5, "cc": 108, "name": "Session", "symbol": "⊞"},
    {"position": 6, "cc": 109, "name": "User 1", "symbol": "U1"},
    {"position": 7, "cc": 110, "name": "User 2", "symbol": "U2"},
    {"position": 8, "cc": 111, "name": "Mixer", "symbol": "☰"}
  ],
  "lookup": {
    "noteToPosition": {
      "11": {"type": "pad", "row": 1, "col": 1},
      "12": {"type": "pad", "row": 1, "col": 2},
      "13": {"type": "pad", "row": 1, "col": 3},
      "14": {"type": "pad", "row": 1, "col": 4},
      "15": {"type": "pad", "row": 1, "col": 5},
      "16": {"type": "pad", "row": 1, "col": 6},
      "17": {"type": "pad", "row": 1, "col": 7},
      "18": {"type": "pad", "row": 1, "col": 8},
      "19": {"type": "right", "position": 8, "name": "Record Arm"},
      "21": {"type": "pad", "row": 2, "col": 1},
      "22": {"type": "pad", "row": 2, "col": 2},
      "23": {"type": "pad", "row": 2, "col": 3},
      "24": {"type": "pad", "row": 2, "col": 4},
      "25": {"type": "pad", "row": 2, "col": 5},
      "26": {"type": "pad", "row": 2, "col": 6},
      "27": {"type": "pad", "row": 2, "col": 7},
      "28": {"type": "pad", "row": 2, "col": 8},
      "29": {"type": "right", "position": 7, "name": "Solo"},
      "31": {"type": "pad", "row": 3, "col": 1},
      "32": {"type": "pad", "row": 3, "col": 2},
      "33": {"type": "pad", "row": 3, "col": 3},
      "34": {"type": "pad", "row": 3, "col": 4},
      "35": {"type": "pad", "row": 3, "col": 5},
      "36": {"type": "pad", "row": 3, "col": 6},
      "37": {"type": "pad", "row": 3, "col": 7},
      "38": {"type": "pad", "row": 3, "col": 8},
      "39": {"type": "right", "position": 6, "name": "Mute"},
      "41": {"type": "pad", "row": 4, "col": 1},
      "42": {"type": "pad", "row": 4, "col": 2},
      "43": {"type": "pad", "row": 4, "col": 3},
      "44": {"type": "pad", "row": 4, "col": 4},
      "45": {"type": "pad", "row": 4, "col": 5},
      "46": {"type": "pad", "row": 4, "col": 6},
      "47": {"type": "pad", "row": 4, "col": 7},
      "48": {"type": "pad", "row": 4, "col": 8},
      "49": {"type": "right", "position": 5, "name": "Stop"},
      "51": {"type": "pad", "row": 5, "col": 1},
      "52": {"type": "pad", "row": 5, "col": 2},
      "53": {"type": "pad", "row": 5, "col": 3},
      "54": {"type": "pad", "row": 5, "col": 4},
      "55": {"type": "pad", "row": 5, "col": 5},
      "56": {"type": "pad", "row": 5, "col": 6},
      "57": {"type": "pad", "row": 5, "col": 7},
      "58": {"type": "pad", "row": 5, "col": 8},
      "59": {"type": "right", "position": 4, "name": "Send B"},
      "61": {"type": "pad", "row": 6, "col": 1},
      "62": {"type": "pad", "row": 6, "col": 2},
      "63": {"type": "pad", "row": 6, "col": 3},
      "64": {"type": "pad", "row": 6, "col": 4},
      "65": {"type": "pad", "row": 6, "col": 5},
      "66": {"type": "pad", "row": 6, "col": 6},
      "67": {"type": "pad", "row": 6, "col": 7},
      "68": {"type": "pad", "row": 6, "col": 8},
      "69": {"type": "right", "position": 3, "name": "Send A"},
      "71": {"type": "pad", "row": 7, "col": 1},
      "72": {"type": "pad", "row": 7, "col": 2},
      "73": {"type": "pad", "row": 7, "col": 3},
      "74": {"type": "pad", "row": 7, "col": 4},
      "75": {"type": "pad", "row": 7, "col": 5},
      "76": {"type": "pad", "row": 7, "col": 6},
      "77": {"type": "pad", "row": 7, "col": 7},
      "78": {"type": "pad", "row": 7, "col": 8},
      "79": {"type": "right", "position": 2, "name": "Pan"},
      "81": {"type": "pad", "row": 8, "col": 1},
      "82": {"type": "pad", "row": 8, "col": 2},
      "83": {"type": "pad", "row": 8, "col": 3},
      "84": {"type": "pad", "row": 8, "col": 4},
      "85": {"type": "pad", "row": 8, "col": 5},
      "86": {"type": "pad", "row": 8, "col": 6},
      "87": {"type": "pad", "row": 8, "col": 7},
      "88": {"type": "pad", "row": 8, "col": 8},
      "89": {"type": "right", "position": 1, "name": "Volume"}
    },
    "ccToButton": {
      "104": {"type": "top", "position": 1, "name": "Up"},
      "105": {"type": "top", "position": 2, "name": "Down"},
      "106": {"type": "top", "position": 3, "name": "Left"},
      "107": {"type": "top", "position": 4, "name": "Right"},
      "108": {"type": "top", "position": 5, "name": "Session"},
      "109": {"type": "top", "position": 6, "name": "User 1"},
      "110": {"type": "top", "position": 7, "name": "User 2"},
      "111": {"type": "top", "position": 8, "name": "Mixer"}
    },
    "positionToNote": {
      "1-1": 11, "1-2": 12, "1-3": 13, "1-4": 14, "1-5": 15, "1-6": 16, "1-7": 17, "1-8": 18,
      "2-1": 21, "2-2": 22, "2-3": 23, "2-4": 24, "2-5": 25, "2-6": 26, "2-7": 27, "2-8": 28,
      "3-1": 31, "3-2": 32, "3-3": 33, "3-4": 34, "3-5": 35, "3-6": 36, "3-7": 37, "3-8": 38,
      "4-1": 41, "4-2": 42, "4-3": 43, "4-4": 44, "4-5": 45, "4-6": 46, "4-7": 47, "4-8": 48,
      "5-1": 51, "5-2": 52, "5-3": 53, "5-4": 54, "5-5": 55, "5-6": 56, "5-7": 57, "5-8": 58,
      "6-1": 61, "6-2": 62, "6-3": 63, "6-4": 64, "6-5": 65, "6-6": 66, "6-7": 67, "6-8": 68,
      "7-1": 71, "7-2": 72, "7-3": 73, "7-4": 74, "7-5": 75, "7-6": 76, "7-7": 77, "7-8": 78,
      "8-1": 81, "8-2": 82, "8-3": 83, "8-4": 84, "8-5": 85, "8-6": 86, "8-7": 87, "8-8": 88
    }
  },
  "colors": {
    "velocity": {
      "off": 0,
      "darkGray": 1,
      "lightGray": 2,
      "white": 3,
      "red": 5,
      "redLight": 7,
      "orange": 9,
      "orangeLight": 11,
      "yellow": 13,
      "yellowLight": 15,
      "lime": 17,
      "limeLight": 19,
      "green": 21,
      "greenLight": 23,
      "cyan": 37,
      "cyanLight": 39,
      "skyBlue": 41,
      "skyBlueLight": 43,
      "blue": 45,
      "blueLight": 47,
      "purple": 49,
      "purpleLight": 51,
      "magenta": 53,
      "magentaLight": 55,
      "pink": 57,
      "pinkLight": 59
    },
    "palette": [
      {"index": 0, "hex": "#000000", "name": "Off"},
      {"index": 1, "hex": "#1E1E1E", "name": "Dark Gray"},
      {"index": 2, "hex": "#7F7F7F", "name": "Light Gray"},
      {"index": 3, "hex": "#FFFFFF", "name": "White"},
      {"index": 4, "hex": "#FF4C4C", "name": "Light Red"},
      {"index": 5, "hex": "#FF0000", "name": "Red"},
      {"index": 6, "hex": "#590000", "name": "Dark Red"},
      {"index": 7, "hex": "#190000", "name": "Darker Red"},
      {"index": 8, "hex": "#FFBD6C", "name": "Light Orange"},
      {"index": 9, "hex": "#FF5400", "name": "Orange"},
      {"index": 10, "hex": "#591D00", "name": "Dark Orange"},
      {"index": 11, "hex": "#271B00", "name": "Brown"},
      {"index": 12, "hex": "#FFFF4C", "name": "Light Yellow"},
      {"index": 13, "hex": "#FFFF00", "name": "Yellow"},
      {"index": 14, "hex": "#595900", "name": "Dark Yellow"},
      {"index": 15, "hex": "#191900", "name": "Darker Yellow"},
      {"index": 16, "hex": "#88FF4C", "name": "Light Lime"},
      {"index": 17, "hex": "#54FF00", "name": "Lime"},
      {"index": 18, "hex": "#1D5900", "name": "Dark Lime"},
      {"index": 19, "hex": "#142B00", "name": "Darker Lime"},
      {"index": 20, "hex": "#4CFF4C", "name": "Light Green"},
      {"index": 21, "hex": "#00FF00", "name": "Green"},
      {"index": 22, "hex": "#005900", "name": "Dark Green"},
      {"index": 23, "hex": "#001900", "name": "Darker Green"},
      {"index": 24, "hex": "#4CFF5E", "name": "Light Spring"},
      {"index": 25, "hex": "#00FF19", "name": "Spring"},
      {"index": 36, "hex": "#4CFFFF", "name": "Light Cyan"},
      {"index": 37, "hex": "#00FFFF", "name": "Cyan"},
      {"index": 38, "hex": "#005959", "name": "Dark Cyan"},
      {"index": 40, "hex": "#4C88FF", "name": "Light Sky"},
      {"index": 41, "hex": "#0054FF", "name": "Sky Blue"},
      {"index": 44, "hex": "#4C4CFF", "name": "Light Blue"},
      {"index": 45, "hex": "#0000FF", "name": "Blue"},
      {"index": 46, "hex": "#000059", "name": "Dark Blue"},
      {"index": 48, "hex": "#8C4CFF", "name": "Light Purple"},
      {"index": 49, "hex": "#5400FF", "name": "Purple"},
      {"index": 50, "hex": "#190059", "name": "Dark Purple"},
      {"index": 52, "hex": "#FF4CFF", "name": "Light Magenta"},
      {"index": 53, "hex": "#FF00FF", "name": "Magenta"},
      {"index": 54, "hex": "#590059", "name": "Dark Magenta"},
      {"index": 56, "hex": "#FF4C87", "name": "Light Pink"},
      {"index": 57, "hex": "#FF0054", "name": "Pink"},
      {"index": 58, "hex": "#59001D", "name": "Dark Pink"},
      {"index": 60, "hex": "#FF1500", "name": "Bright Orange"},
      {"index": 61, "hex": "#993500", "name": "Rust"},
      {"index": 62, "hex": "#795100", "name": "Olive"},
      {"index": 63, "hex": "#436400", "name": "Moss"}
    ]
  },
  "helpers": {
    "formulas": {
      "noteFromRowCol": "note = (row * 10) + col",
      "rowFromNote": "row = Math.floor(note / 10)",
      "colFromNote": "col = note % 10",
      "isGridPad": "note >= 11 && note <= 88 && (note % 10) >= 1 && (note % 10) <= 8",
      "isRightButton": "[19, 29, 39, 49, 59, 69, 79, 89].includes(note)",
      "isTopButton": "cc >= 104 && cc <= 111"
    },
    "usage": {
      "loadMapping": "const mapping = await fetch('URL').then(r => r.json());",
      "getNoteFromPosition": "const note = mapping.lookup.positionToNote[`${row}-${col}`];",
      "getPositionFromNote": "const pos = mapping.lookup.noteToPosition[note.toString()];",
      "getTopButtonFromCC": "const btn = mapping.lookup.ccToButton[cc.toString()];",
      "setLedColor": "output.send([144, note, colorVelocity]);",
      "setLedOff": "output.send([128, note, 0]);",
      "setLedRGB": "output.send([240, 0, 32, 41, 2, 24, 11, note, r, g, b, 247]);"
    }
  }
}
